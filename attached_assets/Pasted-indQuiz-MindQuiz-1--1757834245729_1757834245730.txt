indQuiz 결제 및 공유 기능 개발
너는 풀스택 웹 개발 전문가야. 지금부터 MindQuiz 웹사이트에 두 가지 핵심 기능을 추가할 거야: (1) 한국 사용자를 위한 직접 결제 시스템, (2) 바이럴 확산을 위한 동적 공유 기능. 아래 요구사항을 정확하게 분석하고, 단계별로 기능을 구현해줘.

1. 결제 시스템 구현 (네이버페이 & 카카오페이 직접 연동)
목표: 사용자가 유료 심화 리포트를 구매할 때, 네이버페이 또는 카카오페이를 통해 직접 결제할 수 있는 시스템을 구축한다. (토스페이먼츠 등 PG사 중계 없음)

A. 프론트엔드 UI/UX:

유료 리포트 구매 페이지에 결제 수단 선택 영역을 만든다.

해당 영역에 [네이버페이로 결제] 버튼과 [카카오페이로 결제] 버튼을 명확히 구분하여 디자인한다. 각 버튼은 해당 브랜드의 공식 로고와 컬러 가이드를 따라야 한다.

B. 카카오페이 연동 기능:

백엔드:

/api/payment/kakao/ready 엔드포인트를 생성한다. 이 API는 사용자가 카카오페이 결제를 시작하면 호출되며, 카카오페이 서버에 결제 준비 요청을 보내고, 결제를 위한 URL(redirect_url)을 받아 프론트엔드에 반환한다.

/api/payment/kakao/approve 엔드포인트를 생성한다. 사용자가 결제를 완료하면, 카카오페이 서버로부터 성공/실패 여부를 받아 우리 데이터베이스에 결제 상태를 기록하고, 최종 결제 완료 페이지로 리디렉션한다.

프론트엔드:

[카카오페이로 결제] 버튼 클릭 시, 백엔드의 /ready API를 호출한다.

API로부터 받은 redirect_url로 사용자를 이동시켜 카카오페이 결제를 진행시킨다.

C. 네이버페이 연동 기능:

백엔드:

/api/payment/naver/ready 엔드포인트를 생성한다. 카카오페이와 동일하게, 네이버페이 서버에 결제 준비 요청을 보내고 필요한 정보를 반환한다.

/api/payment/naver/approve 엔드포인트를 생성한다. 네이버페이 결제 완료 후, 최종 승인 및 데이터베이스 처리를 담당한다.

프론트엔드:

[네이버페이로 결제] 버튼 클릭 시, 백엔드의 /ready API를 호출하여 네이버페이 결제를 진행시킨다.

2. 바이럴 공유 기능 구현 (동적 OG 이미지)
목표: 사용자가 결과 페이지를 공유할 때, 해당 사용자의 결과 유형이 반영된 개인화된 미리보기 이미지가 자동으로 생성되어 표시되도록 한다.

A. 동적 OG 이미지 생성기 개발:

@vercel/og 라이브러리 또는 유사한 도구를 사용하여, /api/og 라는 API 엔드포인트를 생성한다.

이 API는 쿼리 파라미터로 type(예: PJEH), persona("통찰력 있는 전략가"), meme("큰 그림 그리고...") 등을 받을 수 있어야 한다.

미리 디자인된 16가지 페르소나별 배경 템플릿 위에, 파라미터로 받은 텍스트와 사용자 닉네임 등을 동적으로 삽입하여 1200x630 픽셀 크기의 이미지를 생성하고 반환한다.

B. 프론트엔드 결과 페이지 구현:

결과 페이지의 HTML <head> 섹션에 <meta property="og:image" ...> 태그를 추가한다.

이 태그의 content 속성에는 현재 사용자의 결과에 맞는 파라미터를 담아 /api/og URL을 동적으로 할당한다. (예: content="https://mindquiz.app/api/og?type=PJEH&persona=통찰력있는전략가...")

C. 공유 버튼 기능 구현:

결과 페이지 상단에 눈에 잘 띄는 "결과 공유하기" 섹션을 만든다.

아래의 공유 버튼들을 구현한다:

[카카오톡으로 공유]: 카카오 SDK를 사용. 동적 OG 이미지가 포함된 링크 메시지를 전송한다.

[페이스북/트위터/라인으로 공유]: 각 플랫폼의 공유 URL을 사용하여 링크를 공유한다.

[결과 이미지 저장]: 동적으로 생성된 OG 이미지를 사용자가 스마트폰에 직접 저장할 수 있는 기능을 제공한다. (인스타그램, 쓰레드 스토리 공유 유도용)

[이메일로 보내기]: mailto: 링크를 사용하여 결과 페이지 링크가 담긴 이메일 초안을 생성한다.

[링크 복사]: 결과 페이지의 URL을 클립보드에 복사하는 기능을 제공한다. (네이버 카페/블로그 공유 유도용)

위 요구사항에 따라 프로젝트의 구조를 설계하고, 필요한 파일들을 생성한 뒤 코딩을 시작해줘.